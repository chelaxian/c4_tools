# Назначение инструмента

Конвертация конфигурации Континент 3 (далее - К3) из формата `*.xml` в универсальный формат `*.json` для последующего импорта в Континент 4 (далее - К4) в объеме:

  - правила фильтрации сетевого трафика;
  - правила трансляции сетевых адресов;
  - сетевые объекты, используемые в правилах;
  - сервисы, используемые в правилах;
  - временные интервалы, используемые в правилах.

# Замечания для правил фильтрации

1. Все импортированные правила на стороне К4 будут отключены вне зависимости от установленного значения параметра "Отключено (Правило вкл/откл)" в К3.
2. В описании каждого правила будут отражены следующие параметры:

    - описание объекта системы из К3;
    - значения параметров, которые не переносятся из К3 в К4 или каким либо-образом трансформируются;
    - информация о наличии связей между объектами системы и сетевыми устройствами.

3. Если в качестве "Отправителя" на стороне К3 не указано ни одного сетевого объекта или указана группа пользователей, на стороне К4 для «Отправителя» будет установлено значение "Любой" / "Any".
4. Если в качестве "Получателя" на стороне К3 не указано ни одного сетевого объекта или указана группа пользователей, на стороне К4 для «Получателя» будет установлено значение "Любой" / "Any".
5. Если в качестве "Сервиса" на стороне К3 не указано ни одного объекта, на стороне К4 для "Сервиса" будет установлено значение "Любой" / "Any".
6. Если в качестве "Временного интервала" на стороне К3 не указано ни одного объекта, на стороне К4 для "Временного интервала" будет установлено значение "Всегда" / "Always".
7. В К4 не переносятся следующие параметры: 

    - Класс трафика;
    - Профиль усиленной фильтрации;
    - Профиль контроля приложений;
    - Реакции на события;
    - Контролировать состояние соединений;
    - Защита от DoS атак;
    - Применить и завершить обработку.

8. При импорте правил из К3 в К4 будут добавлены следующие необходимые для корректной работы системы параметры (для этих параметров на стороне К4 будут установлены значения по умолчанию):

    - Профиль Web/FTP фильтрации;
    - Приложение;
    - СОВ.

9. При импорте правил из К3 в К4 параметр "Регистрация" для правил переносится с ограничениями. Логирование для правил на стороне К4 будет автоматически включено только в тех случаях, если на стороне К3 в качестве характеристики регистрации установлены значения "Первые 64 бита" и "Тело пакета". При прочих значениях для правил фильтрации на стороне К4 логирование не будет включено автоматически.
10. Для сетевых объектов при импорте правил из К3 в К4 не осуществляется перенос следующих параметров:

    - unicast / multicast;
    - тип привязки;
    - регистрация.

# Замечания для правил трансляции

1. Все импортированные правила на стороне К4 будут отключены вне зависимости от оригинального значения параметра "Отключено (Правило вкл/откл)" в К3.
2. В описании каждого правила будут отражены следующие параметры:

    - описание объекта системы из К3;
    - значения параметров, которые не переносятся из К3 в К4 или каким либо-образом трансформируются;
    - информация о наличии связей между объектами системы и сетевыми устройствами.

3. При импорте правил из К3 в К4 параметр "Направление" переносится согласно следующим правилам:

    - если в качестве "Направления" на стороне К3 указано значение "Исходящие" / "Outbound", на стороне К4 для "Действия" будет установлено значение "Отправителя" / "Source";
    - если в качестве "Направления" на стороне К3 указано значение "Входящие" / "Inbound", на стороне К4 для "Действия" будет установлено значение "Получателя" / "Destination";
    - если в качестве "Направления" на стороне К3 указано значение "Отобразить 1:1" / "Both", на стороне К4 для "Действия" будет установлено значение "Отобразить" / "One to one".

4. В К4 не переносятся следующие параметры:

    - Временной интервал;
    - Класс трафика;
    - Регистрация;
    - Трансляция FTP;
    - Интерфейс;
    - Реакции на события.

5. Если для правила трансляции на стороне К3 выбрано более одного сервиса, на стороне К4 для каждого нового сервиса будет создана копия оригинального правила.
6. Для сетевых объектов при импорте правил из К3 в К4 не осуществляется перенос следующих параметров:

    - Unicast / Multicast;
    - Тип привязки;
    - Регистрация.

7. Для предоставления доступа в Интернет сетевым объектам, содержащимся в импортированных правилах трансляции, на стороне К4 необходимо создать соответствующие правила фильтрации.

> При работе с К3 для правил трансляции с направлением "Исходящие" / "Outbound" или "Входящие" / "Inbound" дополнительно автоматически создаются правила фильтрации.
> Эти правила фильтрации не попадают в экспортируемую конфигурацию, получаемую с помощью Универсального коннектора (файл c правилами и объектами в формате `*.xml`).

# Приложения

К инструменту прилагаются следующие материалы:

- `c4_unified_json.svg` - описание структуры (схема) импортируемых данных.
