# Назначение инструмента

Конвертация активной (running) конфигурации Cisco ASA из текстового формата в универсальный формат `*.json` для последующего импорта в Континент 4 (далее - К4) в объеме:

- правила фильтрации сетевого трафика;
- правила трансляции сетевых адресов;
- сетевые объекты, используемые в правилах;
- сервисы, используемые в правилах;
- временные интервалы, используемые в правилах.

## Замечания для правил фильтрации

1. Все импортированные правила на стороне К4 будут отключены.
2. Правила с флагом `remark` на стороне Cisco ASA не переносятся.
3. Если на стороне Cisco ASA не указан номер порта, на стороне К4 для "Сервиса" будет установлено значение "Любой" / "Any".
4. При импорте правил из Cisco ASA в К4 будут добавлены следующие необходимые для корректной работы системы параметры (для этих параметров на стороне К4 будут установлены значения по умолчанию):

    - Профиль Web/FTP фильтрации;
    - Приложение;
    - СОВ.

5. При импорте правил из Cisco ASA в К4 параметр "Действие" / "Action" переносится согласно следующим правилам:

    - если в качестве действия на стороне Cisco ASA указано значение `permit`, на стороне К4 для "Действия" будет установлено значение "Пропустить" / "Accept";
    - в остальных случаях на стороне К4 для "Действия" будет установлено значение "Отбросить" / "Block".

6. Не осуществляется перенос сервисов типа `icmp`, если их тип и код не входят в перечень поддерживаемых.

## Замечания для правил трансляции

1. Все импортированные правила на стороне К4 будут отключены.
2. Для каждого првила трансляции в Cisco ASA на стороне К4 будет создано зеркальное правило, если на стороне Cisco ASA не установлен флаг `unidirectional` и отправитель имеет флаг `static`.
3. Зеркальное правило не создаётся, если в транслируемом пакете в поле получателя указана сеть, диапазон или группа с несколькими объектами.
4. При импорте правил из Cisco ASA в К4 тип трансляции переносится согласно следующим правилам:

    - если на стороне Cisco ASA не будут установлены значения для отправителя и получателя транслированного пакета, то будет установлено значение "Скрыть" / "Hide";
    - если на стороне Cisco ASA будет установлено значение для отправителя транслируемого пакета, то будет установлено значение "Отправителя" / "Source";
    - если на стороне Cisco ASA будет установлено значение для получателя транслируемого пакета, то будет установлено значение "Получателя" / "Destination";
    - для зеркального правила будет установлено значение "Получателя" / "Destination".
    
5. Не осуществляется перенос правил, для которых на стороне Cisco ASA поля сервиса или транслированного сервиса содержат протокол, который отличается от `6` (TCP) или `17` (UDP).
6. Не осуществляется перенос правил, для которых на стороне Cisco ASA установлен статический адрес отправителя и динамический адрес получателя.

# Приложения

К инструменту прилагаются следующие материалы:

- `c4_unified_json.svg` - описание структуры (схема) импортируемых данных.
