# Используемые обозначения

ЦУС - Центр управления сетью.

УБ - Узел безопасности.

СД - Сервер доступа.

МК - Менеджер конфигурации.

АРМ - Автоматизированное рабочее место.

# Назначение инструмента

Создание через API Континент 4 логических интерфейсов VLAN по заданному в формате `*.xls` списку в привязке к определенным УБ/кластеру.

# Основные функции инструмента

1. Использование библиотеки `c4_lib` для работы с API Континент 4.
2. Генерация логических интерфейсов VLAN по заданному списку.
3. Пропуск отсутствующих УБ и физических интерфейсов с регистрацией соответствующего лога.
4. Пропуск существующих логических интерфейсов VLAN с регистрацией соответствующего лога или их перезапись с использованием соответствующего ключа. 
5. Вывод на экран справки по использованию инструмента.

# Основные характеристики инструмента

1. Инструмент представлен набором скриптов на языке Python.
2. Инструмент предоставляет пользователю интерфейс CLI.
3. Инструмент поставляется в виде архива `tar.gz`.
4. Инструмент содержит встроенную справку по использованию (ключи, параметры).
5. Инструмент доустанавливает необходимые для работы компоненты.
6. Инструмент можно использовать для наполнения списка сетевых интерфейсов УБ определенным количеством логических интерфейсов VLAN.

# Системные требования к инструменту

1. АРМ пользователя под управлением ОС Linux.
2. Физический и логический сетевой доступ АРМ пользователя к ЦУС.
3. Установленные на АРМ пользователя интерпретатор Python последней версии.
4. Установленный на АРМ пользователя компонент `openssl` версии 3.0.
5. Наличие IP адреса АРМ пользователя в списке разрешенных для подключения к ЦУС.
6. Предварительно установленные через среду `pip` инструменты `pandas` и `xlrd`.
7. Учетная запись Континент 4 с ролью **Главный администратор**.

# Инструкция по установке

1. Выполнить установку библиотеки `c4_lib`, если ранее это не было сделано.
2. Скачать архив `c4_vlan_maker-X.X.tar.gz`.
3. Распаковать скаченный архив в любую директорию.
4. Перейти в директорию, куда был распакован архив, затем - в директорию `c4_vlan_maker`, убедиться в наличии файла `setup.py`.
5. Выполнить команду `pip install . -f . --no-index` для установки компонентов, необходимых для работы инструмента.
6. Дождаться завершения установки компонентов, необходимых для работы инструмента.
7. В случае отсутствия пути до установленного инструмента в переменной окружения `PATH` пропишите его вручную (особенность дистрибутива ОС Linux).
8. Вызвать встроенную справку и ознакомиться с ее содержанием.
9. Убедиться в наличии файла со списком логических интерфейсов VLAN - `*.xls`.
10. Инструмент готов к использованию.

# Приложения

В качестве входных данных инструмент использует файл `*.xls` со следующими полями:

- `gateway_name` - имя УБ, задаваемое администратором в МК (например, `node-sgw-1`);
- `eth_name` - имя физического интерфейса в привязке к определенному УБ (например, `te-0-0`);
- `vlan_id` - идентификатор создаваемого логического интерфейса VLAN (например, `100`);
- `vlan_ip` - IP адрес, назначаемый созданному логическому интерфейсу VLAN (например, `172.16.10.10`);
- `vlan_prefix` - маска подсети, назначаемая созданному логическому интерфейсу VLAN (например, `24`);
- `vlan_topology` - топология создаваемого логического интерфейса VLAN (например, `external` соответствует топологии "Внешний");
- `comments` - пользовательские комментарии в файле для удобства его чтения.

К инструменту прилагаются следующие материалы:

- `vlan_input_single` - пример исходного списка логических интерфейсов VLAN для одиночных УБ;
- `vlan_input_cluster` - пример исходного списка логических интерфейсов VLAN для кластера.
