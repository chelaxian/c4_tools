# Используемые обозначения

ЦУС - Центр управления сетью.

УБ - Узел безопасности.

МК - Менеджер конфигурации.

# Назначение инструмента

1. Генерация заданного количества правил фильтрации по схеме:

```
Firewall Rule
    Number:                 Autonumber
    Name:                   Rule_X (X = 1..5000)
    Source:                 Host_X_1
    Destination:            Host_X_2
    Service:                Any
    Protocol/Application:   Any
    Action:                 Block
    Profile:                None
    IPS:                    Off
    Time:                   Always
    Log:                    On/Off
    Install On:             All
    Description:            Null

Host
    Name:                   Host_X_A
    Description:            Null
    Address:                AAA.BBB.CCC.DDD (10.10.0.0/16, except 255)
```

# Основные функции инструмента

1. Подключение к ЦУС.
2. Аутентификация и авторизация от имени администратора.
3. Генерация N правил фильтрации.
4. Генерация M объектов типа "Хост", где M = N * 2.

# Основные характеристики инструмента

1. Инструмент представлен набором скриптов на языке Python.
2. Инструмент предоставляет пользователю интерфейс - CLI.
3. Инструмент поставляется в виде архива `*.tar.gz`.
4. Инструмент поставляется в комплекте с дополнительным компонентом `gost.so`, необходимым для его работы.
5. Инструмент содержит встроенную справку по использованию (ключи, параметры).
6. Инструмент доустанавливает дополнительный компонент `pycurl`, необходимый для его работы. 
7. Инструмент извлекает конфигурацию УБ, отмеченную как `master`.
8. Инструмент использует встроенную учетную запись - `admin` (роль - "Главный администратор").
9. Инструмент использует компонент `curl` для взаимодействия с API ЦУС.
10. Инструмент взаимодействует с ЦУС по анонимному TLS соединению (ГОСТ).
11. Инструмент использует компонент `openssl` в качестве криптографической оснатски.
12. Инструмент сопровождается технической спецификацией `*.html`.
13. Инструмент может использовать в качестве библиотеки в составе других инструментов.

# Системные требования к инструменту

1. Рабочая станция пользователя под управлением ОС Linux.
2. Физический и логический сетевой доступ рабочей станции пользователя к ЦУС.
3. Установленный интерпретатор Python последней версии.
4. Установленный компонент `curl` для формирования HTTP запросов.
5. Установленный компонент `openssl` версии 3.0.
6. Наличие IP адреса рабочей станции пользователя в списке разрешенных для подключения МК к ЦУС.

# Справка по использованию инструмента

```
usage: 

c4_rules_maker [-h] -u CREDS --ip IP [--port PORT] [-q QUANTITY] [-l | --logging | --no-logging]

Утилита для автоматического создания тестовых правил в Континент 4.

options:
  -h, --help            Показать текущее сообщение помощи и выйти.
  -u CREDS, --creds CREDS
                        Реквизиты в формате user:pass
  --ip IP               IP сервера.
  --port PORT           Порт сервера.
  -q QUANTITY, --quantity QUANTITY
                        Количество создаваемых правил
  -l, --logging, --no-logging
                        Включить логирование в правилах

example: c4_rules_maker -u user:pass --ip 172.16.10.1 -q 5000
example: c4_rules_maker -u user:pass --ip 172.16.10.1 -q 3000 -l
```
