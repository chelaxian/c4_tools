# Используемые обозначения

ЦУС - Центр управления сетью.

УБ - Узел безопасности.

МК - Менеджер конфигурации.

АРМ - Автоматизированное рабочее место.

# Назначение инструмента

Генерация через API Континент 4 заданного количества правил по схеме:

```
Правило фильтрации
    Порядковый номер:        Автоматически по порядку
    Название:                Rule_X (X = 1..32767)
    Отправитель:             Host_X_1 (X = 1..65534)
    Получатель:              Host_X_2 (X = 1..65534)
    Сервис:                  Любой
    Протокол/Приложение:     Любой
    Действие:                Блокировать
    Профиль:                 Нет
    СОВ:                     Выкл
    Интервал:                Всегда
    Лог:                     Лог/Нет
    Установить:              Везде
    Описание:                Пусто

Хост
    Название:                Host_X_A
    Описание:                Пусто
    Адрес:                   AAA.BBB.CCC.DDD (10.10.0.0/16, кроме 255)
```

# Основные функции инструмента

1. Использование библиотеки `c4_lib` для работы с API Континент 4.
2. Генерация N правил фильтрации с M уникальными парами сетевых объектов типа "Хост".
3. Вывод на экран справки по использованию инструмента.

# Основные характеристики инструмента

1. Инструмент представлен набором скриптов на языке Python.
2. Инструмент предоставляет пользователю интерфейс CLI.
3. Инструмент поставляется в виде архива `tar.gz`.
4. Инструмент содержит встроенную справку по использованию (ключи, параметры).
5. Инструмент доустанавливает необходимые для работы компоненты по зависимостям.
6. Инструмент можно использовать для наполнения БД конфигурации ЦУС шаблонными правилами и объектами и последующего нагрузочного тестирования ЦУС в части установки политики.

# Системные требования к инструменту

1. АРМ пользователя под управлением ОС Linux.
2. Физический и логический сетевой доступ АРМ пользователя к ЦУС.
3. Установленные на АРМ пользователя интерпретатор Python последней версии.
4. Установленный на АРМ пользователя компонент `openssl` версии 3.0.
5. Наличие IP адреса АРМ пользователя в списке разрешенных для подключения к ЦУС.
6. Учетная запись Континент 4 с ролью **Главный администратор**.
7. Отсутствие дубликатов правил и объектов после предыдущего цикла работы инструмента.

# Инструкция по установке

1. Выполнить установку библиотеки `c4_lib`, если ранее это не было сделано.
2. Скачать архив `c4_rules_maker-X.X.tar.gz`.
3. Распаковать скаченный архив в любую директорию.
4. Перейти в директорию, куда был распакован архив, затем - в директорию `c4_rules_maker`, убедиться в наличии файла `setup.py`.
5. Выполнить команду `pip install . -f . --no-index` для установки дополнительных компонентов, необходимых для работы инструмента.
6. Дождаться завершения установки необходимых для работы компонентов по зависимостям.
7. В случае отсутствия пути до установленного инструмента в переменной окружения `PATH` пропишите его вручную (особенность дистрибутива ОС Linux).
8. Вызвать встроенную справку и ознакомиться с ее содержанием.
9. Инструмент готов к использованию.

# Приложения

В качестве входных данных инструмент использует файл `*.json` с директивами для генератора следующего формата:

```
[
    {
        "host1_template": "Host_{}_1",    // Шаблон названия хоста в поле "Отправитель"
        "host2_template": "Host_{}_2",    // Шаблон названия хоста в полей "Получатель"
        "rule_name_template": "Rule_{}",  // Шаблон названия правила
        "start_netobj_ip": "10.10.0.1",   // Начальный адрес для хоста
        "rules_start_index": 1,           // Начальный номер правила
        "rules_end_index": 300,           // Конечный номер правила
        "logging": False                  // Признак включенного логирования
    }
]
```
